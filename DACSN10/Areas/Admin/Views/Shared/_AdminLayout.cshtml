<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Trang quản trị DACSN10</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="~/favicon.ico" />

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Font Awesome CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

    <!-- Material Design Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.css" rel="stylesheet" />

    <!-- jQuery UI CSS -->
    <link href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css" rel="stylesheet" />

    <!-- DataTables Bootstrap 5 CSS -->
    <link href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.4.1/css/responsive.bootstrap5.min.css" rel="stylesheet" />

    <!-- Toastr CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />

    <!-- Animate.css -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet" />

    <!-- SweetAlert2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.min.css" rel="stylesheet" />

    <!-- Intro.js CSS -->
    <link href="https://cdn.jsdelivr.net/npm/intro.js@7.0.1/minified/introjs.min.css" rel="stylesheet" />

    <!-- Syncfusion Essential Studio CSS -->
    <link href="https://cdn.syncfusion.com/ej2/20.1.55/material.css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="~/css/admin.css" />

    <!-- Render any additional styles from the view -->
    @await RenderSectionAsync("Styles", required: false)
</head>
<body class="sb-nav-fixed">
    <!-- Top Navigation -->
    <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
        <!-- Navbar Brand-->
        <a class="navbar-brand ps-3" href="/Admin">DACSN10 Admin</a>

        <!-- Sidebar Toggle-->
        <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Navbar Search-->
        <form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">
            <div class="input-group">
                <input class="form-control" type="text" placeholder="Tìm kiếm..." aria-label="Tìm kiếm..." aria-describedby="btnNavbarSearch" />
                <button class="btn btn-primary" id="btnNavbarSearch" type="button"><i class="fas fa-search"></i></button>
            </div>
        </form>

        <!-- Navbar-->
        <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-user fa-fw"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="#!"><i class="fas fa-user-cog me-2"></i>Cài đặt</a></li>
                    <li><a class="dropdown-item" href="#!"><i class="fas fa-list me-2"></i>Hoạt động</a></li>
                    <li><hr class="dropdown-divider" /></li>
                    <li>
                        <form id="logoutForm" class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                            <button type="submit" class="dropdown-item">
                                <i class="fas fa-sign-out-alt me-2"></i>Đăng xuất
                            </button>
                        </form>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>

    <div id="layoutSidenav">
        <!-- Sidebar Navigation -->
        <div id="layoutSidenav_nav">
            <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
                <div class="sb-sidenav-menu">
                    <div class="nav">
                        <div class="sb-sidenav-menu-heading">Trang chính</div>
                        <a class="nav-link" href="/Admin/Dashboard">
                            <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
                            Bảng điều khiển
                        </a>

                        <div class="sb-sidenav-menu-heading">Quản lý người dùng</div>

                        <!-- Quản lý học viên -->
                        <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseStudents" aria-expanded="false" aria-controls="collapseStudents">
                            <div class="sb-nav-link-icon"><i class="fas fa-user-graduate"></i></div>
                            Học viên
                            <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                        </a>
                        <div class="collapse" id="collapseStudents" aria-labelledby="headingOne" data-bs-parent="#sidenavAccordion">
                            <nav class="sb-sidenav-menu-nested nav">
                                <a class="nav-link" href="/Admin/StudentAdmin">Danh sách</a>
                                <a class="nav-link" href="/Admin/StudentAdmin/Create">Thêm mới</a>
                                <a class="nav-link" href="/Admin/StudentAdmin/Search">Tìm kiếm</a>
                            </nav>
                        </div>

                        <!-- Quản lý giảng viên -->
                        <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseTeachers" aria-expanded="false" aria-controls="collapseTeachers">
                            <div class="sb-nav-link-icon"><i class="fas fa-chalkboard-teacher"></i></div>
                            Giảng viên
                            <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                        </a>
                        <div class="collapse" id="collapseTeachers" aria-labelledby="headingTwo" data-bs-parent="#sidenavAccordion">
                            <nav class="sb-sidenav-menu-nested nav">
                                <a class="nav-link" href="/Admin/TeacherAdmin">Danh sách</a>
                                <a class="nav-link" href="/Admin/TeacherAdmin/Create">Thêm mới</a>
                                <a class="nav-link" href="/Admin/TeacherAdmin/Search">Tìm kiếm</a>
                            </nav>
                        </div>

                        <div class="sb-sidenav-menu-heading">Quản lý nội dung</div>

                        <!-- Quản lý khóa học -->
                        <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseCourses" aria-expanded="false" aria-controls="collapseCourses">
                            <div class="sb-nav-link-icon"><i class="fas fa-book"></i></div>
                            Khóa học
                            <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                        </a>
                        <div class="collapse" id="collapseCourses" aria-labelledby="headingThree" data-bs-parent="#sidenavAccordion">
                            <nav class="sb-sidenav-menu-nested nav">
                                <a class="nav-link" href="/Admin/CourseAdmin">Danh sách</a>
                                <a class="nav-link" href="/Admin/CourseAdmin/Create">Thêm mới</a>
                                <a class="nav-link" href="/Admin/CourseAdmin/Search">Tìm kiếm</a>
                                <a class="nav-link" href="/Admin/CourseAdmin/Categories">Danh mục</a>
                            </nav>
                        </div>

                        <!-- Quản lý bài học -->
                        <a class="nav-link collapsed" href="#" data-bs-toggle="collapse" data-bs-target="#collapseLessons" aria-expanded="false" aria-controls="collapseLessons">
                            <div class="sb-nav-link-icon"><i class="fas fa-file-alt"></i></div>
                            Bài học
                            <div class="sb-sidenav-collapse-arrow"><i class="fas fa-angle-down"></i></div>
                        </a>
                        <div class="collapse" id="collapseLessons" aria-labelledby="headingFour" data-bs-parent="#sidenavAccordion">
                            <nav class="sb-sidenav-menu-nested nav">
                                <a class="nav-link" href="/Admin/LessonAdmin">Danh sách</a>
                                <a class="nav-link" href="/Admin/LessonAdmin/Create">Thêm mới</a>
                            </nav>
                        </div>

                        <div class="sb-sidenav-menu-heading">Giao dịch</div>

                        <!-- Quản lý đơn hàng -->
                        <a class="nav-link" href="/Admin/OrderAdmin">
                            <div class="sb-nav-link-icon"><i class="fas fa-shopping-cart"></i></div>
                            Đơn hàng
                        </a>

                        <!-- Quản lý thanh toán -->
                        <a class="nav-link" href="/Admin/PaymentAdmin">
                            <div class="sb-nav-link-icon"><i class="fas fa-credit-card"></i></div>
                            Thanh toán
                        </a>

                        <div class="sb-sidenav-menu-heading">Hệ thống</div>

                        <!-- Cấu hình hệ thống -->
                        <a class="nav-link" href="/Admin/Settings">
                            <div class="sb-nav-link-icon"><i class="fas fa-cogs"></i></div>
                            Cấu hình
                        </a>

                        <!-- Nhật ký -->
                        <a class="nav-link" href="/Admin/Logs">
                            <div class="sb-nav-link-icon"><i class="fas fa-clipboard-list"></i></div>
                            Nhật ký
                        </a>
                    </div>
                </div>
                <div class="sb-sidenav-footer">
                    <div class="small">Đăng nhập với:</div>
                    Administrator
                </div>
            </nav>
        </div>

        <!-- Main Content -->
        <div id="layoutSidenav_content">
            <main>
                @RenderBody()
            </main>

            <!-- Footer -->
            <footer class="py-4 bg-light mt-auto">
                <div class="container-fluid px-4">
                    <div class="d-flex align-items-center justify-content-between small">
                        <div class="text-muted">Bản quyền &copy; DACSN10 @DateTime.Now.Year</div>
                        <div>
                            <a href="#">Chính sách bảo mật</a>
                            &middot;
                            <a href="#">Điều khoản sử dụng</a>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- jQuery JS -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <!-- Bootstrap Bundle JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- jQuery UI JS -->
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>

    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.4.1/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.4.1/js/responsive.bootstrap5.min.js"></script>

    <!-- Toastr JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.all.min.js"></script>

    <!-- Bootbox JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/6.0.0/bootbox.min.js"></script>

    <!-- Intro.js -->
    <script src="https://cdn.jsdelivr.net/npm/intro.js@7.0.1/minified/intro.min.js"></script>

    <!-- jQuery Validation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/4.0.0/jquery.validate.unobtrusive.min.js"></script>

    <!-- Syncfusion Essential Studio JS -->
    <script src="https://cdn.syncfusion.com/ej2/20.1.55/dist/ej2.min.js"></script>

    <!-- Material Design Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.js"></script>

    <!-- Core Admin JS -->
    <script src="~/js/admin.js"></script>

    <!-- Config toastr -->
    <script>
        toastr.options = {
            "closeButton": true,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        };
    </script>

    <!-- Sidebar Toggle -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Toggle sidebar
            const sidebarToggle = document.querySelector("#sidebarToggle");

            if (sidebarToggle) {
                sidebarToggle.addEventListener("click", () => {
                    document.body.classList.toggle("sb-sidenav-toggled");
                    localStorage.setItem("sb|sidebar-toggle", document.body.classList.contains("sb-sidenav-toggled"));
                });
            }

            // Highlight active menu item based on current URL
            const currentUrl = window.location.pathname;
            const navLinks = document.querySelectorAll(".nav-link");

            navLinks.forEach(link => {
                if (link.getAttribute("href") === currentUrl) {
                    link.classList.add("active");

                    // If the active link is in a collapse, expand it
                    const parentCollapseElement = link.closest(".collapse");
                    if (parentCollapseElement) {
                        parentCollapseElement.classList.add("show");
                        const parentTrigger = document.querySelector(`[data-bs-target="#${parentCollapseElement.id}"]`);
                        if (parentTrigger) {
                            parentTrigger.setAttribute("aria-expanded", "true");
                            parentTrigger.classList.remove("collapsed");
                        }
                    }
                }
            });
        });
    </script>

    <!-- Render any additional scripts from the view -->
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>